BX.namespace("BX.Lists");BX.Lists.CatalogProcessesClass=function(){var t=function(t){this.ajaxUrl="/bitrix/components/bitrix/lists.catalog.processes/ajax.php";this.randomString=t.randomString};t.prototype.installProcesses=function(t){BX.addClass(t,"webform-small-button-wait");t.setAttribute("onclick","");var s=BX.findChildrenByClassName(BX("bx-lists-lcp-total-div"),"bx-lists-lcp-table-tr-mousedown");var e=[];for(var a in s)e.push(s[a].getAttribute("data-file"));var l=null;if(BX("bx-lists-lcp-site-id"))l=BX("bx-lists-lcp-site-id").value;BX.Lists.ajax({method:"POST",dataType:"json",url:BX.Lists.addToLinkParam(this.ajaxUrl,"action","installProcesses"),data:{siteId:l,processes:e},onsuccess:BX.delegate(function(e){if(e.status=="success"){for(var a in s){s[a].setAttribute("id","not allocated");s[a].setAttribute("data-pick-out","not allocated");s[a].setAttribute("class","bx-lists-lcp-table-tr-mouseout");var l=BX.findChildrenByClassName(s[a],"bx-lists-lcp-table-td-name");for(var o=0;o<l.length;o++){l[o].innerHTML=l[o].innerHTML+BX.message("LISTS_LCP_TEMPLATE_PROCESS_INSTALLED")}}BX.Lists.showModalWithStatusAction({status:"success",message:e.message})}else{e.errors=e.errors||[{}];BX.Lists.showModalWithStatusAction({status:"error",message:e.errors.pop().message})}BX.removeClass(t,"webform-small-button-wait");t.setAttribute("onclick",'BX.Lists["CatalogProcessesClass_'+this.randomString+'"].installProcesses(this);')},this)})};t.prototype.mousedown=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className=="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseout"}else{t.className="bx-lists-lcp-table-tr-mousedown"}}};t.prototype.mouseover=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className!="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseover"}}};t.prototype.mouseout=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className!="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseout"}}};return t}();
//# sourceMappingURL=script.map.js