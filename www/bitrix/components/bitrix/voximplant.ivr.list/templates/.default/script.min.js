(function(n){BX.namespace("BX.VoxImplant");var t=null;var e="/bitrix/components/bitrix/voximplant.ivr.list/ajax.php";var a="voximplant_ivr_list";BX.VoxImplant.IvrList=function(){this.bindEvents()};BX.VoxImplant.IvrList.getInstance=function(){return t};BX.VoxImplant.IvrList.prototype.bindEvents=function(){BX.addCustomEvent("SidePanel.Slider:onMessage",this._onSidePanelMessage.bind(this))};BX.VoxImplant.IvrList.prototype.edit=function(n){BX.SidePanel.Instance.open(n,{cacheable:false})};BX.VoxImplant.IvrList.prototype.delete=function(t){t=parseInt(t);var i={action:"delete",sessid:BX.bitrix_sessid(),id:t};var o=BX.showWait();BX.ajax({url:e,method:"POST",data:i,dataType:"json",onsuccess:function(t){BX.closeWait(null,o);if(!t.SUCCESS){var e=t.ERROR||"Unknown error";n.alert(e)}else{var i=BX.Main.gridManager.getInstanceById(a);if(i){i.reload()}}},onfailure:function(){BX.closeWait(null,o);n.alert("Network error")}})};BX.VoxImplant.IvrList.prototype._onSidePanelMessage=function(n){if(n.getEventId()==="IvrEditor::onSave"){var t=BX.Main.gridManager.getInstanceById(a);if(t){t.reload()}}};t=new BX.VoxImplant.IvrList})(window);