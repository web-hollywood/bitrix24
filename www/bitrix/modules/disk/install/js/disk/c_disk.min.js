BX.namespace("BX.Disk");if(!BX.Disk.pathToUser){BX.Disk=function(){var e=null;var t={};var s={};var a={};var i=function(e){if(!e.RealAnchor||!BX.hasClass(e.RealAnchor,"js-disk-locked-document-tooltip")){return}var t=BX.findChildByClassName(e.ROOT_DIV,"bx-user-info-data-info",true);if(!t){return}if(BX.findChildByClassName(t,"js-disk-locked-status",true)){return}BX.prepend(BX.create("div",{html:'<span class="field-name">'+BX.message("DISK_JS_USER_LOCKED_DOCUMENT")+"</span>",props:{className:"js-disk-locked-status"}}),t)};BX.addCustomEvent("onTooltipShow",i);BX.addCustomEvent("onTooltipInsertData",i);BX.addCustomEvent("onTooltipHide",function(e){if(!e.RealAnchor||!BX.hasClass(e.RealAnchor,"js-disk-locked-document-tooltip")){return}var t=BX.findChildByClassName(e.ROOT_DIV,"js-disk-locked-status",true);if(!t){return}BX.remove(t)});function n(e){e.data=e.data||{};e.data["SITE_ID"]=BX.message("SITE_ID");e.data["sessid"]=BX.bitrix_sessid();return e}return{pathToUser:"/company/personal/user/#user_id#/",ajax:function(e){return BX.ajax(n(e))},ajaxPromise:function(e){return BX.ajax.promise(n(e)).then(function(e){if(!e||e.status!="success"){BX.Disk.showModalWithStatusAction(e);var t=new BX.Promise;t.reject(e);return t}return e})},isEmptyObject:function(e){if(e==null)return true;if(e.length&&e.length>0)return false;if(e.length===0)return true;for(var t in e){if(hasOwnProperty.call(e,t))return false}return true},_keyPress:function(t){var s=(t||window.event).keyCode||(t||window.event).charCode;if(s==13&&e){BX.fireEvent(e.buttonNode,"click");return BX.PreventDefault(t)}},modalWindow:function(t){t=t||{};t.title=t.title||false;t.bindElement=t.bindElement||null;t.bindOptions=t.bindOptions||{};t.overlay=typeof t.overlay=="undefined"?true:t.overlay;t.autoHide=t.autoHide||false;t.closeIcon=typeof t.closeIcon=="undefined"?true:t.closeIcon;t.modalId=t.modalId||"disk_modal_window_"+(Math.random()*(2e5-100)+100);t.withoutContentWrap=typeof t.withoutContentWrap=="undefined"?false:t.withoutContentWrap;t.contentClassName=t.contentClassName||"";t.contentStyle=t.contentStyle||{};t.content=t.content||[];t.buttons=t.buttons||false;t.events=t.events||{};t.withoutWindowManager=!!t.withoutWindowManager||false;var s=[];if(t.withoutContentWrap){s=s.concat(t.content)}else{s.push(BX.create("div",{props:{className:"bx-disk-popup-content"+t.contentClassName},style:t.contentStyle,children:t.content}))}var i=t.buttons;if(t.htmlButtons){var n=[];for(var o in t.htmlButtons){if(!t.htmlButtons.hasOwnProperty(o)){continue}if(o>0){n.push(BX.create("SPAN",{html:"&nbsp;"}))}n.push(t.htmlButtons[o])}s.push(BX.create("div",{props:{className:"bx-disk-popup-buttons"},children:n}))}var r=BX.create("div",{props:{className:"bx-disk-popup-container"},children:s});var d=t.events.onAfterPopupShow;t.events.onAfterPopupShow=BX.delegate(function(){if(i.length){e=i[0];BX.bind(document,"keydown",BX.proxy(this._keyPress,this))}if(d){BX.delegate(d,BX.proxy_context)()}},this);var p=t.events.onPopupClose;t.events.onPopupClose=BX.delegate(function(){e=null;try{BX.unbind(document,"keydown",BX.proxy(this._keypress,this))}catch(e){}if(p){BX.delegate(p,BX.proxy_context)()}if(t.withoutWindowManager){delete a[t.modalId]}BX.proxy_context.destroy()},this);var l=t.events.onPopupDestroy;t.events.onPopupDestroy=BX.delegate(function(){try{BX.unbind(document,"keydown",BX.proxy(this._keypress,this))}catch(e){}if(l){BX.delegate(l,BX.proxy_context)()}},this);var c;if(t.withoutWindowManager){if(!!a[t.modalId]){return a[t.modalId]}c=new BX.PopupWindow(t.modalId,t.bindElement,{titleBar:t.title,content:r,bindOptions:t.bindOptions,closeByEsc:true,height:t.height,closeIcon:t.closeIcon,autoHide:t.autoHide,overlay:t.overlay,events:t.events,buttons:t.buttons,zIndex:isNaN(t["zIndex"])?0:t.zIndex});a[t.modalId]=c}else{c=BX.PopupWindowManager.create(t.modalId,t.bindElement,{titleBar:t.title,content:r,bindOptions:t.bindOptions,closeByEsc:true,height:t.height,closeIcon:t.closeIcon,autoHide:t.autoHide,overlay:t.overlay,events:t.events,buttons:t.buttons,zIndex:isNaN(t["zIndex"])?0:t.zIndex})}c.show();return c},modalWindowLoader:function(e,t,s){s=s||null;t=t||{};var a=t.id;var i=t.responseType||"html";var n=t.afterSuccessLoad||null;var o=t.onPopupClose||null;var r=t.postData||{};var d=BX.PopupWindowManager.create("bx-disk-"+a,s,{closeIcon:true,offsetTop:5,autoHide:true,lightShadow:false,overlay:true,content:BX.create("div",{children:[BX.create("div",{style:{display:"table",width:"30px",height:"30px"},children:[BX.create("div",{style:{display:"table-cell",verticalAlign:"middle",textAlign:"center"},children:[BX.create("div",{props:{className:"bx-disk-wrap-loading-modal"}}),BX.create("span",{text:""})]})]})]}),closeByEsc:true,events:{onPopupClose:function(){if(o){BX.delegate(o,this)()}this.destroy()}}});d.show();r["sessid"]=BX.bitrix_sessid();r["SITE_ID"]=BX.message("SITE_ID");BX.ajax({url:e,method:"POST",dataType:i,data:r,onsuccess:BX.delegate(function(e){if(i=="html"){d.setContent(BX.create("DIV",{html:e}));d.adjustPosition()}else if(i=="json"){e=e||{}}n&&n(e,d)},this),onfailure:function(e){}})},modalWindowActionLoader:function(e,t,s){s=s||null;t=t||{};var a=t.id;var i=t.afterSuccessLoad||null;var n=t.onPopupClose||null;var o=t.postData||{};var r=BX.PopupWindowManager.create("bx-disk-"+a,s,{closeIcon:true,offsetTop:5,autoHide:true,lightShadow:false,overlay:true,content:BX.create("div",{children:[BX.create("div",{style:{display:"table",width:"30px",height:"30px"},children:[BX.create("div",{style:{display:"table-cell",verticalAlign:"middle",textAlign:"center"},children:[BX.create("div",{props:{className:"bx-disk-wrap-loading-modal"}}),BX.create("span",{text:""})]})]})]}),closeByEsc:true,events:{onPopupClose:function(){if(n){BX.delegate(n,this)()}this.destroy()}}});r.show();BX.ajax.runAction(e,{data:o}).then(function(e){i&&i(e,r)})},addToLinkParam:function(e,t,s){if(!e.length){return"?"+t+"="+s}e=BX.util.remove_url_param(e,t);if(e.indexOf("?")!=-1){return e+"&"+t+"="+s}return e+"?"+t+"="+s},getUrlParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)");var s=t.exec(location.search);return s===null?"":decodeURIComponent(s[1].replace(/\+/g," "))},getFirstErrorFromResponse:function(e){e=e||{};if(!e.errors)return"";return e.errors.shift().message},showModalWithStatusAction:function(e,t){e=e||{status:"success"};if(!e.message){if(e.status=="success"){e.message=BX.message("DISK_JS_STATUS_ACTION_SUCCESS")}else{e.message=BX.message("DISK_JS_STATUS_ACTION_ERROR")+". "+this.getFirstErrorFromResponse(e)}}BX.UI.Notification.Center.notify({content:e.message})},showActionModal:function(e){var t=e.text;var s=e.autoHide;var a;if(e.showLoaderIcon){a="/bitrix/js/main/core/images/yell-waiter.gif"}else if(e.showSuccessIcon){a="/bitrix/js/main/core/images/viewer-tick.png"}else if(!!e.icon){a=e.icon}var i=BX.create("div",{props:{className:"bx-disk-alert"},children:[BX.create("span",{props:{className:"bx-disk-alert-icon"},children:[a?BX.create("img",{props:{src:a}}):null]}),BX.create("span",{props:{className:"bx-disk-aligner"}}),BX.create("span",{props:{className:"bx-disk-alert-text"},text:t}),BX.create("div",{props:{className:"bx-disk-alert-footer"}})]});var n=BX.PopupWindowManager.getCurrentPopup();if(n){n.destroy()}var o=setTimeout(function(){if(!s){return}var e=BX.PopupWindowManager.getCurrentPopup();if(!e||e.uniquePopupId!="bx-disk-status-action"){return}e.close();e.destroy()},3e3);var r=BX.PopupWindowManager.create("bx-disk-status-action",null,{content:i,onPopupClose:function(){this.destroy();clearTimeout(o)},autoHide:s,zIndex:10200,className:"bx-disk-alert-popup"});r.show();BX("bx-disk-status-action").onmouseover=function(e){clearTimeout(o)};if(!s){return}BX("bx-disk-status-action").onmouseout=function(e){o=setTimeout(function(){var e=BX.PopupWindowManager.getCurrentPopup();if(!e||e.uniquePopupId!="bx-disk-status-action"){return}e.close();e.destroy()},3e3)}},storePathToUser:function(e){if(e){this.pathToUser=e}},getUrlForDownloadDesktop:function(){return BX.browser.IsMac()?"http://dl.bitrix24.com/b24/bitrix24_desktop.dmg":"http://dl.bitrix24.com/b24/bitrix24_desktop.exe"},getUrlToShowObjectInGrid:function(e,t){t=t||{};t.objectId=e;t.SITE_ID=BX.message("SITE_ID");return BX.util.add_url_param("/bitrix/tools/disk/focus.php?ncc=1&action=showObjectInGrid",t)},getDownloadDesktop:function(){document.location.href=this.getUrlForDownloadDesktop()},deactiveBanner:function(e){BX.userOptions.save("disk","~banner-offer",e,true);BX.userOptions.send(null)},getPathToUser:function(e){return this.pathToUser.replace("#USER_ID#",e).replace("#user_id#",e)},getNumericCase:function(e,t,s,a,i){if(e==1){return t}if(e<0){e=-e}e%=100;if(e>=5&&e<=20){return i}e%=10;if(e==1){return s}if(e>=2&&e<=4){return a}return i},getRightLabelByTaskName:function(e){switch(e.toLowerCase()){case"disk_access_read":return BX.message("DISK_JS_SHARING_LABEL_RIGHT_READ");case"disk_access_add":return BX.message("DISK_JS_SHARING_LABEL_RIGHT_ADD");case"disk_access_edit":return BX.message("DISK_JS_SHARING_LABEL_RIGHT_EDIT");case"disk_access_full":return BX.message("DISK_JS_SHARING_LABEL_RIGHT_FULL");default:return"error"}},appendNewShared:function(e){var s=e.readOnly;var a=e.maxTaskName||"disk_access_full";var i=e.destFormName;var n=e.item.id;var o=e.item.name;var r=e.item.avatar;var d=e.type;var p=e.right||"disk_access_read";t[n]={item:e.item,type:e.type,right:p};function l(e,t){var s;var a;switch(e){case"disk_access_read":s=2;break;case"disk_access_add":s=3;break;case"disk_access_edit":s=4;break;case"disk_access_full":s=5;break;default:return 0}switch(t){case"disk_access_read":a=2;break;case"disk_access_add":a=3;break;case"disk_access_edit":a=4;break;case"disk_access_full":a=5;break;default:return 0}if(s==a){return 0}return s>a?1:-1}BX("bx-disk-popup-shared-people-list").appendChild(BX.create("tr",{attrs:{"data-dest-id":n},children:[BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col1"},children:[BX.create("a",{props:{className:"bx-disk-filepage-used-people-link"},children:[BX.create("span",{props:{className:"bx-disk-filepage-used-people-avatar "+(d!="users"?" group":"")},style:{backgroundImage:r?"url("+r+")":null}}),BX.util.htmlspecialchars(o)]})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col2"},children:[BX.create("a",{props:{className:"bx-disk-filepage-used-people-permission"},style:{cursor:"pointer"},text:this.getRightLabelByTaskName(p),events:{click:BX.delegate(function(e){if(s){return BX.PreventDefault(e)}var i=e.target||e.srcElement;BX.PopupMenu.show("disk_open_menu_with_rights",BX(i),[l(a,"disk_access_read")>=0?{text:BX.message("DISK_JS_SHARING_LABEL_RIGHT_READ"),href:"#",onclick:BX.delegate(function(e){BX.PopupMenu.destroy("disk_open_menu_with_rights");BX.adjust(i,{text:this.getRightLabelByTaskName("disk_access_read")});BX.onCustomEvent("onChangeRightOfSharing",[n,"disk_access_read"]);t[n]["right"]="disk_access_read";return BX.PreventDefault(e)},this)}:null,l(a,"disk_access_add")>=0?{text:BX.message("DISK_JS_SHARING_LABEL_RIGHT_ADD"),href:"#",onclick:BX.delegate(function(e){BX.PopupMenu.destroy("disk_open_menu_with_rights");BX.adjust(i,{text:this.getRightLabelByTaskName("disk_access_add")});BX.onCustomEvent("onChangeRightOfSharing",[n,"disk_access_add"]);t[n]["right"]="disk_access_add";return BX.PreventDefault(e)},this)}:null,l(a,"disk_access_edit")>=0?{text:BX.message("DISK_JS_SHARING_LABEL_RIGHT_EDIT"),href:"#",onclick:BX.delegate(function(e){BX.PopupMenu.destroy("disk_open_menu_with_rights");BX.adjust(i,{text:this.getRightLabelByTaskName("disk_access_edit")});BX.onCustomEvent("onChangeRightOfSharing",[n,"disk_access_edit"]);t[n]["right"]="disk_access_edit";return BX.PreventDefault(e)},this)}:null,l(a,"disk_access_full")>=0?{text:BX.message("DISK_JS_SHARING_LABEL_RIGHT_FULL"),href:"#",onclick:BX.delegate(function(e){BX.PopupMenu.destroy("disk_open_menu_with_rights");BX.adjust(i,{text:this.getRightLabelByTaskName("disk_access_full")});BX.onCustomEvent("onChangeRightOfSharing",[n,"disk_access_full"]);t[n]["right"]="disk_access_full";return BX.PreventDefault(e)},this)}:null],{angle:{position:"top",offset:45},autoHide:true,overlay:{opacity:.01},events:{onPopupClose:function(){BX.PopupMenu.destroy("disk_open_menu_with_rights")}}})},this)}})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col3 tar"},children:[!s?BX.create("span",{props:{className:"bx-disk-filepage-used-people-del"},events:{click:BX.delegate(function(e){BX.SocNetLogDestination.deleteItem(n,d,i);var t=e.target||e.srcElement;BX.remove(t.parentNode.parentNode)},this)}}):null]})]}))},openPopupMenuWithRights:function(e,t){var a=[];var i;var n=e.target||e.srcElement;for(var o in s){if(!s.hasOwnProperty(o)){continue}i=BX.clone(s[o],true);a.push({task:i,text:i.TITLE,href:"#",onclick:function(e,s){BX.adjust(n,{text:s.task.TITLE});BX.onCustomEvent("onChangeRight",[t,s.task]);BX.onCustomEvent("onChangeSystemRight",[t,s.task]);BX.PopupMenu.destroy("disk_open_menu_with_rights");return BX.PreventDefault(e)}})}BX.PopupMenu.show("disk_open_menu_with_rights",BX(n),a,{angle:{position:"top",offset:45},autoHide:true,overlay:{opacity:.01},events:{onPopupClose:function(){BX.PopupMenu.destroy("disk_open_menu_with_rights")}}})},setModuleTasks:function(e){s=e},getFirstModuleTask:function(){if(this.isEmptyObject(s)){return{}}for(var e in s){if(s.hasOwnProperty(e)&&typeof e!=="function"){return s[e];break}}return{}},appendRight:function(e){var t=e.readOnly;var a=e.detachOnly||false;var i=e.destFormName;var n=e.item.id;var o=e.item.name;var r=e.item.avatar;var d=e.type;var p=e.right||{};if(!p.title&&p.id){p.title=s[p.id].TITLE}else if(!p.title){var l=this.getFirstModuleTask();p={id:l.ID,title:l.TITLE};BX.onCustomEvent("onChangeRight",[n,l])}var c=p.title;BX("bx-disk-popup-shared-people-list").appendChild(BX.create("tr",{attrs:{"data-dest-id":n},children:[BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col1"},children:[BX.create("a",{props:{className:"bx-disk-filepage-used-people-link"},children:[BX.create("span",{props:{className:"bx-disk-filepage-used-people-avatar "+(d!="users"?" group":"")},style:{backgroundImage:r?"url("+r+")":null}}),BX.util.htmlspecialchars(o)]})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col2"},children:[BX.create("a",{props:{className:"bx-disk-filepage-used-people-permission"},style:{cursor:"pointer"},text:c,events:{click:BX.delegate(function(e){BX.PreventDefault(e);if(a){return}this.openPopupMenuWithRights(e,n)},this)}})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col3 tar"},children:[!t||a?BX.create("span",{props:{className:"bx-disk-filepage-used-people-del"},events:{click:BX.delegate(function(e){BX.onCustomEvent("onDetachRight",[n]);if(!a){BX.SocNetLogDestination.deleteItem(n,d,i)}var t=e.target||e.srcElement;BX.remove(t.parentNode.parentNode)},this)}}):null]})]}))},appendSystemRight:function(e){var t=e.destFormName;var a=e.isBitrix24||false;var i=e.item.id;var n=e.item.name;var o=e.item.avatar;var r=e.type;var d=e.right||{};var p=e.readOnly;if(a&&i&&i!="G2"&&i.search("G")==0){return}if(!d.title&&d.id){d.title=s[d.id].TITLE}else if(!d.title){var l=this.getFirstModuleTask();d={id:l.ID,title:l.TITLE};BX.onCustomEvent("onChangeSystemRight",[i,l])}var c=d.title;BX("bx-disk-popup-shared-people-list").appendChild(BX.create("tr",{attrs:{"data-dest-id":i},children:[BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col1"},children:[BX.create("a",{props:{className:"bx-disk-filepage-used-people-link"},children:[BX.create("span",{props:{className:"bx-disk-filepage-used-people-avatar "+(r!="users"?" group":"")},style:{backgroundImage:o?"url("+o+")":null}}),BX.util.htmlspecialchars(n)]})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col2"},children:[p?BX.create("span",{props:{className:"bx-disk-filepage-used-people-permission-read-only"},text:c}):BX.create("a",{props:{className:"bx-disk-filepage-used-people-permission"},text:c,events:{click:BX.delegate(function(e){BX.PreventDefault(e);this.openPopupMenuWithRights(e,i)},this)}})]}),BX.create("td",{props:{className:"bx-disk-popup-shared-people-list-col3 tar"},children:[!p?BX.create("span",{props:{className:"bx-disk-filepage-used-people-del"},events:{click:BX.delegate(function(e){BX.onCustomEvent("onDetachSystemRight",[i]);var t=e.target||e.srcElement;BX.remove(t.parentNode.parentNode)},this)}}):null]})]}))},showSharingDetailWithoutEdit:function(e){e=e||{};var t=e.object.id;var s=e.ajaxUrl;BX.Disk.modalWindowLoader(BX.Disk.addToLinkParam(s,"action","showSharingDetail"),{id:"folder_list_sharing_detail_object_"+t,responseType:"json",postData:{objectId:t},afterSuccessLoad:BX.delegate(function(e){if(e.status!="success"){e.errors=e.errors||[{}];BX.Disk.showModalWithStatusAction({status:"error",message:e.errors.pop().message})}var t={name:e.owner.name,avatar:e.owner.avatar,link:e.owner.link};BX.Disk.modalWindow({modalId:"bx-disk-detail-sharing-folder",title:BX.message("DISK_JS_SHARING_LABEL_TITLE_MODAL_2"),contentClassName:"",contentStyle:{},events:{onAfterPopupShow:BX.delegate(function(){for(var t in e.members){if(!e.members.hasOwnProperty(t)){continue}BX.Disk.appendNewShared({destFormName:this.destFormName,readOnly:true,item:{id:e.members[t].entityId,name:e.members[t].name,avatar:e.members[t].avatar},type:e.members[t].type,right:e.members[t].right})}},this),onPopupClose:function(){this.destroy()}},content:[BX.create("div",{props:{className:"bx-disk-popup-content"},children:[BX.create("table",{props:{className:"bx-disk-popup-shared-people-list"},children:[BX.create("thead",{html:"<tr>"+'<td class="bx-disk-popup-shared-people-list-head-col1">'+BX.message("DISK_JS_SHARING_LABEL_OWNER")+"</td>"+"</tr>"}),BX.create("tr",{html:"<tr>"+'<td class="bx-disk-popup-shared-people-list-col1" style="border-bottom: none;"><a class="bx-disk-filepage-used-people-link" href="'+t.link+'"><span class="bx-disk-filepage-used-people-avatar" style="background-image: url('+t.avatar+');"></span>'+BX.util.htmlspecialchars(t.name)+"</a></td>"+"</tr>"})]}),BX.create("table",{props:{id:"bx-disk-popup-shared-people-list",className:"bx-disk-popup-shared-people-list"},children:[BX.create("thead",{html:"<tr>"+'<td class="bx-disk-popup-shared-people-list-head-col1">'+BX.message("DISK_JS_SHARING_LABEL_NAME_RIGHTS_USER")+"</td>"+'<td class="bx-disk-popup-shared-people-list-head-col2">'+BX.message("DISK_JS_SHARING_LABEL_NAME_RIGHTS")+"</td>"+'<td class="bx-disk-popup-shared-people-list-head-col3"></td>'+"</tr>"})]}),BX.create("div",{html:'<span class="feed-add-destination-input-box" id="feed-add-post-destination-input-box">'+'<input autocomplete="off" type="text" value="" class="feed-add-destination-inp" id="feed-add-post-destination-input"/>'+"</span>"})]})],buttons:[new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_CLOSE"),events:{click:function(){BX.PopupWindowManager.getCurrentPopup().close()}}})]})},this)})},openWindowForSelectDocumentService:function(e){var t=e.viewInUf||false;var s=BX.message("disk_document_service");var a=[new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_SAVE"),className:"popup-window-button-accept",events:{click:function(t){var s=BX.hasClass(BX("bx-disk-info-popup-btn-local"),"bx-disk-info-popup-btn-active")?"l":"gdrive";if(BX.type.isFunction(e.onSave)){e.onSave(s)}BX.PreventDefault(t);return false}}}),new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_CLOSE"),events:{click:function(e){BX.PopupWindowManager.getCurrentPopup().destroy();BX.PreventDefault(e);return false}}})];var i=t?"":"2";var n=BX.message("LANGUAGE_ID");var o="/bitrix/images/disk/disk_description"+i+"_en.png";if(n=="kz")n="ru";switch(n){case"ru":case"en":case"de":case"ua":case"br":case"la":case"sc":case"tc":o="/bitrix/images/disk/disk_description"+i+"_"+n+".png";break}var r='<div class="bx-disk-info-popup-cont-title">'+BX.message("DISK_JS_SERVICE_CHOICE_TITLE")+"</div>"+'<div class="bx-disk-info-popup-btn-wrap">'+'<span id="bx-disk-info-popup-btn-local" class="bx-disk-info-popup-btn bx-disk-info-popup-btn-local '+(!s||s=="l"?"bx-disk-info-popup-btn-active":"")+' ">'+'<span class="bx-disk-info-popup-btn-text">'+BX.message("DISK_JS_SERVICE_LOCAL_TITLE")+"</span>"+'<span class="bx-disk-info-popup-btn-descript">'+BX.message("DISK_JS_SERVICE_LOCAL_TEXT")+"</span>"+'<span class="bx-disk-info-popup-btn-check"></span>'+"</span>"+'<span id="bx-disk-info-popup-btn-cloud" class="bx-disk-info-popup-btn bx-disk-info-popup-btn-cloud '+(!!s&&s!="l"?"bx-disk-info-popup-btn-active":"")+' ">'+'<span class="bx-disk-info-popup-btn-text">'+BX.message("DISK_JS_SERVICE_CLOUD_TITLE")+"</span>"+'<span class="bx-disk-info-popup-btn-descript">'+BX.message("DISK_JS_SERVICE_CLOUD_TEXT")+"</span>"+'<span class="bx-disk-info-popup-btn-check"></span>'+"</span>"+"</div>"+'<div class="bx-disk-info-descript">'+(t?BX.message("DISK_JS_SERVICE_HELP_TEXT"):BX.message("DISK_JS_SERVICE_HELP_TEXT_2"))+'<img style="height: 182px;" class="bx-disk-info-descript-img" src="'+o+'" alt=""/>'+"</div>";BX.Disk.modalWindow({modalId:"bx-disk-select-doc-service",events:{onAfterPopupShow:function(){BX.bind(BX("bx-disk-info-popup-btn-cloud"),"click",function(){if(BX.hasClass(this,"bx-disk-info-popup-btn-active"))return;BX.toggleClass(this,"bx-disk-info-popup-btn-active");BX.toggleClass(BX("bx-disk-info-popup-btn-local"),"bx-disk-info-popup-btn-active")});BX.bind(BX("bx-disk-info-popup-btn-local"),"click",function(){if(BX.hasClass(this,"bx-disk-info-popup-btn-active"))return;BX.toggleClass(this,"bx-disk-info-popup-btn-active");BX.toggleClass(BX("bx-disk-info-popup-btn-cloud"),"bx-disk-info-popup-btn-active")})},onPopupClose:function(){this.destroy()}},zIndex:3e3,title:BX.message("DISK_JS_SERVICE_CHOICE_TITLE_SMALL"),content:[BX.create("div",{html:r})],buttons:a})}}}()}