{"version":3,"sources":["editor_panel.js"],"names":["BX","namespace","Landing","UI","Panel","EditorPanel","BaseButtonPanel","apply","this","arguments","layout","classList","add","position","currentElement","makeDraggable","registerBaseActions","appendToBody","rect","getBoundingClientRect","instance","getInstance","scrollHandler","target","onShow","node","onScroll","bind","document","addEventListener","onKeydown","window","passive","err","onHide","removeEventListener","event","which","nodeName","preventDefault","range","getSelection","getRangeAt","br","create","deleteContents","insertNode","createRange","setStartAfter","collapse","sel","removeAllRanges","addRange","setTimeout","adjustPosition","editor","dragButton","Button","EditorAction","html","attrs","title","message","onbxdrag","onDrag","onbxdragstop","onDragEnd","jsDD","registerObject","prependButton","offsetCalculates","offsetLeft","offsetTop","x","y","pos","current_node","Math","max","abs","left","top","DOM","write","remove","style","addButton","CreateLink","ColorAction","text","lastPosition","adjustAbsolutePosition","force","nodeRect","width","height","bottom","pageYOffset","innerWidth","hideButtonsPopups","body","appendChild","mouseTarget","onMousedown","preventClick","onMouseUp","onClick","stopPropagation","closePopup","button","popup","close","menu","buttons","forEach","additionalButtons","Tool","ColorPicker","hideAll","prototype","constructor","__proto__","show","element","insertAfter","prevSibling","querySelector","isShown","onCustomEvent","call","hide","isFixed"],"mappings":"CAAC,WACA,aAEAA,GAAGC,UAAU,uBAYbD,GAAGE,QAAQC,GAAGC,MAAMC,YAAc,WAEjCL,GAAGE,QAAQC,GAAGC,MAAME,gBAAgBC,MAAMC,KAAMC,WAChDD,KAAKE,OAAOC,UAAUC,IAAI,2BAC1BJ,KAAKK,SAAW,WAChBL,KAAKM,eAAiB,KACtBC,EAAcP,MACdQ,EAAoBR,MACpBS,EAAaT,MACbA,KAAKU,KAAOV,KAAKE,OAAOS,yBASzBnB,GAAGE,QAAQC,GAAGC,MAAMC,YAAYe,SAAW,KAQ3CpB,GAAGE,QAAQC,GAAGC,MAAMC,YAAYgB,YAAc,WAE7C,IAAKrB,GAAGE,QAAQC,GAAGC,MAAMC,YAAYe,SACrC,CACCpB,GAAGE,QAAQC,GAAGC,MAAMC,YAAYe,SAAW,IAAIpB,GAAGE,QAAQC,GAAGC,MAAMC,YAGpE,OAAOL,GAAGE,QAAQC,GAAGC,MAAMC,YAAYe,UAIxC,IAAIE,EAAgB,KACpB,IAAIC,EAAS,KAEb,SAASC,EAAOC,GAEfF,EAASE,EACTH,EAAgBA,GAAiBI,EAASC,KAAK,KAAMF,GACrDG,SAASC,iBAAiB,UAAWC,GACrCC,OAAOF,iBAAiB,SAAUP,GAGlC,IACCM,SAASC,iBAAiB,SAAUP,GAAgBU,QAAS,OAC5D,MAAOC,GACRL,SAASC,iBAAiB,SAAUP,IAItC,SAASY,IAERN,SAASO,oBAAoB,UAAWL,GACxCC,OAAOI,oBAAoB,SAAUb,GAErC,IACCM,SAASO,oBAAoB,SAAUb,GAAgBU,QAAS,OAC/D,MAAOC,GACRL,SAASO,oBAAoB,SAAUb,IAIzC,SAASQ,EAAUM,GAElB,GAAIA,EAAMC,QAAU,IACnBD,EAAMb,OAAOe,WAAa,MAC1BF,EAAMb,OAAOe,WAAa,KAC3B,CACCF,EAAMG,iBAEN,IAAIC,EAAQT,OAAOU,eAAeC,WAAW,GAC7C,IAAIC,EAAK3C,GAAG4C,OAAO,MACnBJ,EAAMK,iBACNL,EAAMM,WAAWH,GAEjBH,EAAQZ,SAASmB,cACjBP,EAAMQ,cAAcL,GACpBH,EAAMS,SAAS,MAEf,IAAIC,EAAMnB,OAAOU,eACjBS,EAAIC,kBACJD,EAAIE,SAASZ,GAGda,WAAW,WACVrD,GAAGE,QAAQC,GAAGC,MAAMC,YAAYgB,cAAciC,eAAe/B,IAC3D,IAGJ,SAASG,IAER1B,GAAGE,QAAQC,GAAGC,MAAMC,YAAYgB,cAAciC,eAAe/B,GAQ9D,SAASR,EAAcwC,GAEtB,IAAIC,EAAa,IAAIxD,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,QACtDC,KAAM,kDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,0CAG3BN,EAAW9C,OAAOqD,SAAWC,EAAOrC,KAAKnB,MACzCgD,EAAW9C,OAAOuD,aAAeC,EAAUvC,KAAKnB,MAEhD2D,KAAKC,eAAeZ,EAAW9C,QAC/B6C,EAAOc,cAAcb,GAErB,IAAIc,EACJ,IAAIC,EACJ,IAAIC,EAEJ,SAASR,EAAOS,EAAGC,GAElB,IAAKJ,EACL,CACC,IAAIK,EAAM3E,GAAG2E,IAAIR,KAAKS,cACtBL,EAAaM,KAAKC,IAAID,KAAKE,IAAIN,EAAIE,EAAIK,MAAO,GAC9CR,EAAYK,KAAKC,IAAID,KAAKE,IAAIL,EAAIC,EAAIM,KAAM,GAC5CX,EAAmB,KAGpBtE,GAAGkF,IAAIC,MAAM,WACZ5B,EAAO7C,OAAOC,UAAUyE,OAAO,yBAC/B7B,EAAO7C,OAAO2E,MAAMJ,IAAOP,EAAIF,EAAa,KAC5CjB,EAAO7C,OAAO2E,MAAML,KAAQP,EAAIF,EAAc,MAC7C5C,KAAKnB,OAGR,SAAS0D,IAERI,EAAmB,MACnBf,EAAO7C,OAAOC,UAAUC,IAAI,0BAS9B,SAASI,EAAoBuC,GAE5BA,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,QACtDC,KAAM,4CACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,2CAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,UACtDC,KAAM,8CACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,6CAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,aACtDC,KAAM,iDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,gDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,iBACtDC,KAAM,qDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,6CAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,eACtDC,KAAM,kDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,iDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,iBACtDC,KAAM,oDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,mDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,gBACtDC,KAAM,mDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,kDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,eACtDC,KAAM,qDACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,oDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAO8B,WAAW,cACpD5B,KAAM,4CACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,kDAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,UACtDC,KAAM,8CACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,6CAQ3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAO+B,YAAY,aACrDC,KAAMzF,GAAG8D,QAAQ,gCACjBF,OAAQC,MAAO7D,GAAG8D,QAAQ,4CAG3BP,EAAO+B,UAAU,IAAItF,GAAGE,QAAQC,GAAGsD,OAAOC,aAAa,gBACtDC,KAAM,8CACNC,OAAQC,MAAO7D,GAAG8D,QAAQ,4CAK5B,IAAI4B,GAAgBT,IAAK,EAAGD,KAAM,GAClC,SAASW,EAAuBpC,EAAQ9B,EAAMmE,GAE7C,IAAIC,EAAWpE,EAAKN,wBACpB,IAAI6D,EAAOa,EAASb,KAAQa,EAASC,MAAQ,EAAMvC,EAAOrC,KAAK4E,MAAQ,EACvE,IAAIb,EAAOY,EAASZ,IAAM1B,EAAOrC,KAAK6E,OAAS,EAC/Cd,GAAOA,EAAM,EAAIA,EAAMY,EAASG,OAAS,GAAKjE,OAAOkE,YAErD,GAAKjB,EAAOzB,EAAOrC,KAAK4E,MAAU/D,OAAOmE,WAAa,GACtD,CACClB,GAAUA,EAAOzB,EAAOrC,KAAK4E,OAAU/D,OAAOmE,WAAa,IAG5DlB,EAAOH,KAAKC,IAAI,GAAIE,GAEpB,GAAIU,EAAaT,MAAQA,GAAOS,EAAaV,OAASA,GAAQY,EAC9D,CACC5F,GAAGkF,IAAIC,MAAM,WACZ5B,EAAO7C,OAAO2E,MAAMxE,SAAW,WAC/B0C,EAAO7C,OAAO2E,MAAMJ,IAAMA,EAAM,KAChC1B,EAAO7C,OAAO2E,MAAML,KAAOA,EAAO,OAGnCU,EAAaT,IAAMA,EACnBS,EAAaV,KAAOA,EAEpBmB,EAAkB5C,IAQpB,SAAStC,EAAasC,GAErB3B,SAASwE,KAAKC,YAAY9C,EAAO7C,QAGlC,IAAI4F,EAAc,KAClB,SAASC,EAAYnE,GAEpBkE,EAAclE,EAAMb,OAGrB,IAAIiF,EAAe,MACnB,SAASC,EAAUrE,GAElBoE,EAAeF,IAAgBlE,EAAMb,OAGtC,SAASmF,EAAQtE,GAEhB,GAAIoE,EACJ,CACCpE,EAAMG,iBACNH,EAAMuE,mBAIR,SAASC,EAAWC,GAEnB,GAAIA,EAAOC,MACX,CACCD,EAAOC,MAAMC,QAGd,GAAIF,EAAOG,KACX,CACCH,EAAOG,KAAKD,SAId,SAASZ,EAAkB5C,GAE1BA,EAAO0D,QAAQC,QAAQN,GAEvB,GAAIrD,EAAO4D,kBACX,CACC5D,EAAO4D,kBAAkBD,QAAQN,GAGlC5G,GAAGE,QAAQC,GAAGiH,KAAKC,YAAYC,UAIhCtH,GAAGE,QAAQC,GAAGC,MAAMC,YAAYkH,WAC/BC,YAAaxH,GAAGE,QAAQC,GAAGC,MAAMC,YACjCoH,UAAWzH,GAAGE,QAAQC,GAAGC,MAAME,gBAAgBiH,UAS/CG,KAAM,SAASC,EAAS9G,EAAUsG,GAEjC3G,KAAKM,eAAiB6G,EAEtB,GAAInH,KAAK2G,kBACT,CACC3G,KAAK2G,kBAAkBD,QAAQ,SAASL,GACvCrG,KAAKyG,QAAQ7B,OAAOyB,GACpBD,EAAWC,GACX7G,GAAGoF,OAAOyB,EAAOnG,SACfF,MAEHA,KAAK2G,kBAAoB,KAG1B,GAAIA,EACJ,CACC3G,KAAK2G,kBAAoBA,EACzB3G,KAAK2G,kBAAkBD,QAAQ,SAASL,GACvC,GAAIA,EAAOe,YACX,CACC,IAAIC,EAAcrH,KAAKE,OAAOoH,cAAc,aAAcjB,EAAOe,YAAY,MAE7E,GAAIC,EACJ,CACC7H,GAAG4H,YAAYf,EAAOnG,OAAQmH,GAC9BrH,KAAKyG,QAAQrG,IAAIiG,QAInB,CACCrG,KAAK8E,UAAUuB,KAEdrG,MAGJ,IAAKA,KAAKuH,UACV,CACC/H,GAAGgI,cAAc,4BAA6BL,IAC9C/F,SAASC,iBAAiB,YAAa0E,EAAa,MACpD3E,SAASC,iBAAiB,UAAW4E,EAAW,MAChD7E,SAASC,iBAAiB,QAAS6E,EAAS,MAE5CrD,WAAW,WACV7C,KAAKE,OAAOC,UAAUC,IAAI,0BACzBe,KAAKnB,MAAO,KAGfR,GAAGE,QAAQC,GAAGC,MAAME,gBAAgBiH,UAAUG,KAAKO,KAAKzH,KAAMC,WAE9DT,GAAGkF,IAAIC,MAAM,WACZ3E,KAAKU,KAAOV,KAAKE,OAAOS,wBACxBX,KAAK8C,eAAeqE,EAAS9G,EAAU,OACtCc,KAAKnB,OAEPgB,EAAOmG,IAGRO,KAAM,WAEL,GAAI1H,KAAKuH,UACT,CACC/H,GAAGgI,cAAc,6BAA8B,OAC/CpG,SAASO,oBAAoB,YAAaoE,EAAa,MACvD3E,SAASO,oBAAoB,UAAWsE,EAAW,MACnD7E,SAASO,oBAAoB,QAASuE,EAAS,MAE/CrD,WAAW,WACV7C,KAAKU,KAAOV,KAAKE,OAAOS,wBACxBX,KAAKE,OAAOC,UAAUyE,OAAO,0BAC5BzD,KAAKnB,MAAO,KAGfR,GAAGE,QAAQC,GAAGC,MAAME,gBAAgBiH,UAAUW,KAAKD,KAAKzH,KAAMC,WAC9DyB,KAGDoB,eAAgB,SAAS7B,EAAMZ,EAAU+E,GAExCD,EAAuBnF,KAAMiB,EAAMmE,IAGpCuC,QAAS,WAER,OAAO3H,KAAKK,WAAa,aAAeL,KAAKK,WAAa,iBA/Z5D","file":""}