{"version":3,"sources":["ui.viewer.item.js"],"names":["BX","namespace","UI","Viewer","Item","options","this","controller","title","src","actions","contentType","isLoaded","isLoading","sourceNode","layout","container","init","prototype","setController","Controller","Error","setPropertiesByNode","node","dataset","alt","JSON","parse","undefined","bindSourceNode","reload","load","promise","Promise","fulfill","_loadPromise","loadData","then","item","bind","catch","reason","reject","getTitle","getActions","type","setAutoResolve","render","afterRender","Image","apply","arguments","resizedSrc","width","height","imageNode","__proto__","constructor","xhr","XMLHttpRequest","responseType","onreadystatechange","readyState","DONE","status","response","URL","createObjectURL","open","util","add_url_param","ts","setRequestHeader","send","onload","onerror","onabort","event","document","createDocumentFragment","appendChild","create","props","className","children","href","ibxShowImage","target","text","message","PlainText","content","contentNode","style","fontSize","color","Unknown","Video","player","playerId","hashCode","Math","floor","random","sources","transFormationPromise","string","h","l","length","i","charCodeAt","addCustomEvent","moduleId","command","params","id","vjsPlayer","error","console","log","forceTransformation","headers","name","value","push","ajaxPromise","ajax","url","method","dataType","data","pullTag","PULL","extendWatch","html","processHTML","STYLE","processScripts","SCRIPT","Fileman","Player","createElement","Document","previewHtml","previewScriptToProcess","processPreviewHtml","HTML"],"mappings":"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","file":""}