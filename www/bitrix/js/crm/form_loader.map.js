{"version":3,"sources":["form_loader.js"],"names":["Bitrix24FormLoader","init","this","yaId","forms","eventHandlers","frameHeight","defaultNodeId","window","Bitrix24FormObject","forEach","preLoad","params","_this","type","defaultNode","document","getElementById","defaultClickClassNodeList","getElementsByClassName","id","click","length","i","push","item","nextElementSibling","Object","prototype","toString","call","formInstance","isFormExisted","getUniqueLoadId","buttonNode","addEventListener","showPopup","setTimeout","delay","load","createPopup","popup","createElement","innerHTML","children","node","querySelector","btn","hidePopup","body","insertBefore","appendChild","styleFixNode","setAttribute","createTextNode","head","resizePopup","addEventHandler","form","keyCode","e","kc","which","interfaceMagic","heightValues","scrollHeight","documentElement","offsetHeight","clientHeight","filter","heightValue","windowHeight","Math","min","apply","popupHeight","needScroll","style","height","width","scrollWidth","offsetWidth","clientWidth","util","isIOS","addClass","display","removeClass","scrollToPopupMiddle","uniqueLoadId","h","scrollTop","BX","pos","iframe","top","screenHeight","scrollOffset","pageYOffset","scrollTo","element","className","indexOf","replace","hasClass","classList","nodeListToArray","filtered","name","test","navigator","userAgent","isMobile","createFrame","formUrl","page","domain","frame","frameName","locationHash","location","protocol","host","from","href","fields","options","presets","frameSrc","lang","sec","Date","encodeURIComponent","JSON","stringify","handlers","execEventHandler","ref","match","parentNode","onFrameLoad","event","origin","doFrameAction","data","unload","removeChild","dataString","parse","err","action","value","setFrameHeight","parseInt","eventName","dataLayer","virtualPageURL","eventCategory","eventAction","ga","isGaExists","getAll","tracker","get","gaId","Ya","Metrika","counters","reachGoal","checkHash","hash","substring","onCustomEvent","ie","postMessage","frameParameters","SiteGuest","pages","getPages","visitedPages","send","gid","contentWindow","el","handler","attachEvent","target","eventHandler"],"mappings":"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","file":""}