(function(){"use strict";BX.namespace("BX.Report.VC");BX.Report.VC.Core={entryUrl:"/bitrix/services/main/ajax.php",moduleName:"report",ajaxGet:function(t,e){BX.ajax.runAction("report.api."+t,{data:e.urlParams||{}}).then(function(t){this._successHandler(t,e)}.bind(this))},ajaxPost:function(t,e){BX.ajax.runAction("report.api."+t,{data:e.data||{}}).then(function(t){this._successHandler(t,e)}.bind(this))},ajaxSubmit:function(t,e){e.data=e.data||{};e.data["formParams"]=BX.ajax.prepareForm(t).data;BX.ajax.runAction("report.api."+t.getAttribute("action"),{data:e.data||{}}).then(function(t){e.onsuccess(t)})},_successHandler:function(t,e){if(t.assets){if(t.assets["css"].length){BX.load(t.assets["css"],function(){if(t.assets["js"].length){BX.load(t.assets["js"],function(){e.onFullSuccess(t)})}else{e.onFullSuccess(t)}})}else if(t.assets["js"].length){BX.load(t.assets["js"],function(){e.onFullSuccess(t)})}else{e.onFullSuccess(t)}}else{e.onFullSuccess(t)}},getPopup:function(t,e,n){return new BX.PopupWindow(t,e,{closeIcon:{right:"20px",top:"10px"},titleBar:n.title,width:570,height:500,zIndex:0,offsetLeft:0,offsetTop:0,draggable:{restrict:false},overlay:{backgroundColor:"black",opacity:"80"},events:n.events||{},buttons:n.buttons||{},content:n.content||""})},getClass:function(t){if(!BX.type.isNotEmptyString(t)){return null}var e=null;var n=window;var o=t.split(".");for(var s=0;s<o.length;s++){var i=o[s];if(!n[i]){return null}n=n[i];e=n}return e}};BX.Report.VC.PopupWindowManager=BX.PopupWindowManager;BX.Report.VC.PopupWindowManager.getPopups=function(){return this._popups};BX.Report.VC.PopupWindowManager.adjustPopupsPositions=function(){var t=this.getPopups();for(var e=0;e<t.length;e++){t[e].adjustPosition()}};BX.Report.VC.PopupWindowManager.closeAllPopups=function(){var t=this.getPopups();for(var e=0;e<t.length;e++){t[e].close()}};BX.Report.VC.SetFontSize=function(t){this.items=t.node;this.init()};BX.Report.VC.SetFontSize.prototype={init:function(){this.show()},adjustFontSize:function(){this.show()},getFontSize:function(t){return getComputedStyle(t).fontSize.slice(0,-2)},appendNode:function(t){var e=this.getFontSize(t);if(e){for(var n=t.parentNode.offsetWidth,o=+e;n<t.offsetWidth+40;o--){t.style.fontSize=o+"px"}}},show:function(){for(var t=0;t<this.items.length;t++){this.appendNode(this.items[t])}}}})();