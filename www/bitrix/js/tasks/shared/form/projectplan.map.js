{"version":3,"sources":["projectplan.js"],"names":["BX","namespace","Tasks","Shared","Form","ProjectPlan","Util","Widget","extend","sys","code","options","matchWorkTime","companyWorkTime","methods","construct","this","callConstruct","instances","vars","blockSignal","option","data","optionP","cwt","COMPANY_WORKTIME","TIME_UNIT_TYPE_DAY","TIME_UNIT_TYPE_HOUR","TIME_UNIT_TYPE_MINUTE","WORKDAY_DURATION","getWorkDayDuration","unit","TASK","DURATION_TYPE","d","getDeadlinePicker","sdpp","getStartDatePlanPicker","edpp","getEndDatePlanPicker","duration","start","getTimeStamp","startDate","Date","end","endDate","calculateDuration","setDurationSeconds","bindInstantChange","getDurationControl","passCtx","debounce","onDurationChange","bindDelegateControl","preventEnter","onUnitChange","control","startDatePlanPicker","scope","type","isElementNode","DatePicker","defaultTime","HOURS","START","bindEvent","delegate","onStartDatePlanChange","endDatePlanPicker","END","onEndDatePlanChange","deadlinePicker","onDeadLineChange","stamp","solveDeadline","fireEvent","getValue","solveTriangle","e","isEnter","PreventDefault","setMatchWorkTime","way","startProjectPlanPicker","endProjectPlanPicker","recalculateDuration","getCalendar","parent","calendar","Calendar","adaptSettings","setDeadline","date","disableChangeEvent","setTimeStamp","getTime","enableChangeEvent","fixDeadline","isWorkTime","getClosestWorkTime","setStartDate","fixStartDate","setEndDate","fixEndDate","showHintPopup","picker","hintManager","show","message","autoHide","calculateStartDate","calculateEndDate","deadline","fixedDeadline","startChange","endChange","durationChange","durationMs","defaultDuration","getMultiplier","defaultDurationMs","isMaxDurationReached","fixedStartDate","fixedEndDate","node","getDuration","value","isNotEmptyString","setDurationUnit","result","isNaN","getMaxDuration","switchControlMode","parentElement","isErrorMode","addClass","removeClass","recalc","dropCSSFlags","setCSSFlag","getUnitByDuration","units","i","length","durationInUnit","Math","floor","parseInt"],"mappings":"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","file":""}